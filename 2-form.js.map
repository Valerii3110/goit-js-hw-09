{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import validator from 'validator';\r\n\r\nconst form = document.querySelector('.feedback-form');\r\n\r\nlet savedfeedbackMessage = JSON.parse(\r\n  localStorage.getItem('feedback-form-state')\r\n);\r\n\r\nfunction addSavedInformation({ email = '', message = '' }) {\r\n  {\r\n    form.message.value = message;\r\n    form.email.value = email;\r\n  }\r\n  return;\r\n}\r\nif (savedfeedbackMessage !== null) {\r\n  addSavedInformation(savedfeedbackMessage);\r\n}\r\n\r\nlet feedbackMessage = {};\r\nform.addEventListener('input', inputHandler);\r\n\r\nfunction inputHandler(event) {\r\n  let email = event.currentTarget.elements[0].value;\r\n  let message = event.currentTarget.elements[1].value;\r\n  feedbackMessage.email = email.trim();\r\n  feedbackMessage.message = message.trim();\r\n\r\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedbackMessage));\r\n}\r\n\r\nform.addEventListener('submit', submitHandler);\r\n\r\nfunction submitHandler(event) {\r\n  event.preventDefault();\r\n  if (inputCheck(feedbackMessage)) {\r\n    console.log(feedbackMessage);\r\n    localStorage.removeItem('feedback-form-state');\r\n    form.reset();\r\n  } else {\r\n    alert('There is no email or message');\r\n  }\r\n}\r\n\r\nfunction inputCheck(obj) {\r\n  const { email = '', message = '' } = obj;\r\n  return validator.isEmail(email) && !validator.isEmpty(message);\r\n}\r\n"],"names":["form","savedfeedbackMessage","addSavedInformation","email","message","feedbackMessage","inputHandler","event","submitHandler","inputCheck","obj","validator"],"mappings":"oFAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAAuB,KAAK,MAC9B,aAAa,QAAQ,qBAAqB,CAC5C,EAEA,SAASC,EAAoB,CAAE,MAAAC,EAAQ,GAAI,QAAAC,EAAU,EAAE,EAAI,CAEvDJ,EAAK,QAAQ,MAAQI,EACrBJ,EAAK,MAAM,MAAQG,CAGvB,CACIF,IAAyB,MAC3BC,EAAoBD,CAAoB,EAG1C,IAAII,EAAkB,CAAA,EACtBL,EAAK,iBAAiB,QAASM,CAAY,EAE3C,SAASA,EAAaC,EAAO,CAC3B,IAAIJ,EAAQI,EAAM,cAAc,SAAS,CAAC,EAAE,MACxCH,EAAUG,EAAM,cAAc,SAAS,CAAC,EAAE,MAC9CF,EAAgB,MAAQF,EAAM,OAC9BE,EAAgB,QAAUD,EAAQ,OAElC,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAe,CAAC,CAC7E,CAEAL,EAAK,iBAAiB,SAAUQ,CAAa,EAE7C,SAASA,EAAcD,EAAO,CAC5BA,EAAM,eAAc,EAChBE,EAAWJ,CAAe,GAC5B,QAAQ,IAAIA,CAAe,EAC3B,aAAa,WAAW,qBAAqB,EAC7CL,EAAK,MAAK,GAEV,MAAM,8BAA8B,CAExC,CAEA,SAASS,EAAWC,EAAK,CACvB,KAAM,CAAE,MAAAP,EAAQ,GAAI,QAAAC,EAAU,EAAE,EAAKM,EACrC,OAAOC,EAAU,QAAQR,CAAK,GAAK,CAACQ,EAAU,QAAQP,CAAO,CAC/D"}